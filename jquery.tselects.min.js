/**
* jQuery Selects Transfer
* @author: jsimonait <jsimonait@gmail.com>
*/

(function(b){b.fn.tselects=function(a){if(0==this.length||void 0==arguments[0])return this;if("string"==typeof arguments[0]){if(1<this.length){var l=arguments;return this.each(function(){b.fn.tselects.apply(b(this),l)})}b.fn.tselects[arguments[0]].apply(this,b.makeArray(arguments).slice(1)||[]);return this}var c={$from:this};arguments[0]instanceof jQuery&&(c.$to=arguments[0],a={});a=b.extend({},b.fn.tselects.options,c,a||{});if(!a.$from.length||!a.$to.length)return this;b(a.$from).data("tselects",
b.extend({},a));b(a.$to).data("tselects",b.extend({},a));a.dblclick&&(a.$from.dblclick(function(){a.$from.tselects("add")}),a.$to.dblclick(function(){a.$to.tselects("remove")}));return this};var n=function(a){return a.parent().prop("tagName").toLowerCase()},c=function(a,c,m){(m?b("option",a):b("option:selected",a)).each(function(a,e){if("optgroup"!=n(b(e)))b(e).removeProp("selected").appendTo(c);else{var d=b(e).parent(),f,g=d.attr("value"),h=d.attr("label");b("optgroup",c).each(function(a,c){if(void 0!=
g&&b(c).attr("value")==g||void 0!=h&&b(c).attr("label")==h)return f=b(c)});if(!f){var k=d.clone(!0);k.empty();f=k.appendTo(c)}b(e).removeProp("selected").appendTo(f);0>=d.children().length&&d.remove()}})};b.extend(b.fn.tselects,{add:function(){var a=this.data("tselects");if(!a)return this;c(a.$from,a.$to,!1)},addAll:function(){var a=this.data("tselects");if(!a)return this;c(a.$from,a.$to,!0)},remove:function(){var a=this.data("tselects");if(!a)return this;c(a.$to,a.$from,!1)},removeAll:function(){var a=
this.data("tselects");if(!a)return this;c(a.$to,a.$from,!0)}});b.fn.tselects.options={dblclick:!0}})(jQuery);